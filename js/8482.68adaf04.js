"use strict";(globalThis["webpackChunkFreeFromWeb"]=globalThis["webpackChunkFreeFromWeb"]||[]).push([[8482],{396:(e,t,o)=>{o.d(t,{Z:()=>i});var s=o(4520);const n=new Set,i=n;n.isBot=n.has.bind(n),n.add=e=>Set.prototype.add.call(n,(0,s.FX)(e)),n.add("npub1tsgw6pncspg4d5u778hk63s3pls70evs4czfsmx0fzap9xwt203qtkhtk4"),n.add("npub17stpezz4suqdywh33k9x8pht04l76a5sfrsjj7q3mnp5ap5937eqdt58d7"),n.add("npub1xe59lfgsdvduqwh8h65zahkc2hv02mzpmdxghhhcpx0puret9taqheapxc")},6401:(e,t,o)=>{o.d(t,{Z:()=>k});var s=o(9835),n=o(6970);const i={key:0,class:"list-placeholder"},a={key:1};function r(e,t,o,r,l,c){const p=(0,s.up)("q-spinner");return o.count?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",i,[o.loading?((0,s.wg)(),(0,s.j4)(p,{key:0,size:"sm"})):((0,s.wg)(),(0,s.iD)("p",a,(0,n.zw)(e.$t(o.label)),1))]))}const l={name:"ListPlaceholder",props:{count:{type:Number,default:0},loading:{type:Boolean,default:!1},label:{type:String,default:"Nothing here."}}};var c=o(1639),p=o(3940),d=o(9984),u=o.n(d);const h=(0,c.Z)(l,[["render",r],["__scopeId","data-v-fdc49960"]]),k=h;u()(l,"components",{QSpinner:p.Z})},9010:(e,t,o)=>{o.d(t,{Z:()=>u});var s=o(9835),n=o(6970);const i={key:0},a={class:"addon"};function r(e,t,o,r,l,c){const p=(0,s.up)("base-icon");return(0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["page-header",{dense:e.dense}])},[e.backButton?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"back-button",onClick:t[0]||(t[0]=t=>e.$router.go(-1))},[(0,s.Wm)(p,{icon:"back"})])):(0,s.kq)("",!0),(0,s._)("div",{class:(0,n.C_)({"profile-info":!!e.subline})},[(0,s.WI)(e.$slots,"default",{},(()=>[(0,s._)("h2",null,(0,n.zw)(e.$t(e.title||e.titleFromRoute()||"Home")),1),e.subline?((0,s.wg)(),(0,s.iD)("span",i,(0,n.zw)(e.subline),1)):(0,s.kq)("",!0)]))],2),(0,s._)("div",a,[(0,s.WI)(e.$slots,"addon")])],2)}var l=o(7664);const c=(0,s.aZ)({name:"PageHeader",components:{BaseIcon:l.Z},props:{title:{type:String,default:void 0},subline:{type:String,default:void 0},backButton:{type:Boolean,default:!1},logo:{type:Boolean,default:!1},dense:{type:Boolean,default:!1}},methods:{titleFromRoute(){const e=this.$route.name?.toLowerCase();return e?.charAt(0).toUpperCase()+e?.substring(1)}}});var p=o(1639);const d=(0,p.Z)(c,[["render",r]]),u=d},8482:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Ie});var s=o(9835),n=o(1957),i=o(6970);const a=e=>((0,s.dD)("data-v-388b82d0"),e=e(),(0,s.Cn)(),e),r={class:"Traffic-page"},l={class:"kind-checkbox"},c={class:"kind-checkbox-item"},p={class:"kind-checkbox-text"},d={key:0,class:"following"},u={class:"following-wrapper"},h={class:"following-header"},k=a((()=>(0,s._)("h3",null,"Profile List",-1))),g={class:"following-body"},y=a((()=>(0,s._)("div",{class:"following-gradient"},null,-1))),m={key:1,class:"kind-checkbox ListRawbox"},b={class:"kind-checkbox-item ListRaw"},w=a((()=>(0,s._)("text",{class:"kind-checkbox-text"}," RAW ",-1))),f={class:"post"},v={key:0,class:"post-author"};function q(e,t,o,a,q,_){const C=(0,s.up)("PageHeader"),x=(0,s.up)("q-btn"),T=(0,s.up)("SearchBox"),Z=(0,s.up)("UserCard"),B=(0,s.up)("UserAvatar"),D=(0,s.up)("UserName"),P=(0,s.up)("json-viewer"),S=(0,s.up)("Thread"),j=(0,s.up)("ListPlaceholder");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(C,{"back-button":""}),(0,s._)("div",r,[(0,s._)("div",l,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(q.kindlist,((e,t)=>((0,s.wg)(),(0,s.iD)("div",c,[e.check?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(x,{key:0,color:"primary",round:"",outline:"",size:"xs",onClick:(0,n.iM)((o=>_.pushKind(e.type,t)),["stop"]),class:"kind-checkbox-btn"},null,8,["onClick"])),e.check?((0,s.wg)(),(0,s.j4)(x,{key:1,color:"primary",round:"",size:"xs",onClick:(0,n.iM)((o=>_.delKind(e.type,t)),["stop"]),icon:"done"},null,8,["onClick"])):(0,s.kq)("",!0),(0,s._)("text",p,(0,i.zw)(e.name)+"="+(0,i.zw)(e.type),1)])))),256))]),(0,s.Wm)(T),a.app.isSignedIn&&_.contacts?.length?((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",u,[(0,s._)("div",h,[q.Expansion?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(x,{key:0,color:"primary",size:"sm",onClick:t[0]||(t[0]=(0,n.iM)((e=>_.openToggle()),["stop"])),label:"Expansion",class:"qbtn-header-style","icon-right":"arrow_drop_down",outline:"",rounded:""})),q.Expansion?((0,s.wg)(),(0,s.j4)(x,{key:1,color:"primary",size:"sm",onClick:t[1]||(t[1]=(0,n.iM)((e=>_.openToggle()),["stop"])),label:"Put away",class:"qbtn-header-style","icon-right":"arrow_drop_up",outline:"",rounded:""})):(0,s.kq)("",!0),k]),(0,s.wy)((0,s._)("div",g,[((0,s.wg)(),(0,s.j4)(Z,{key:a.app.myPubkey,pubkey:a.app.myPubkey,class:"following-body-item",clickable:""},null,8,["pubkey"])),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(_.contacts,(e=>((0,s.wg)(),(0,s.j4)(Z,{key:e.pubkey,pubkey:e.pubkey,class:"following-body-item",clickable:""},null,8,["pubkey"])))),128))],512),[[n.F8,q.Expansion]]),y])])):(0,s.kq)("",!0),(0,s.Wm)(x,{color:"primary",size:"md",onClick:t[2]||(t[2]=(0,n.iM)((e=>_.getProfile()),["stop"])),label:"Search",disabled:q.pubkeyList.length<1||q.kinds.length<1,class:"qbtn-style"},null,8,["disabled"]),q.visible.length?((0,s.wg)(),(0,s.iD)("div",m,[(0,s._)("div",b,[q.raw?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(x,{key:0,color:"primary",round:"",outline:"",size:"xs",onClick:t[3]||(t[3]=(0,n.iM)((e=>_.ToggleRaw()),["stop"])),class:"kind-checkbox-btn"})),q.raw?((0,s.wg)(),(0,s.j4)(x,{key:1,color:"primary",round:"",size:"xs",onClick:t[4]||(t[4]=(0,n.iM)((e=>_.ToggleRaw()),["stop"])),icon:"done"})):(0,s.kq)("",!0),w])])):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(q.notelist,(e=>((0,s.wg)(),(0,s.iD)("div",f,[e.author?((0,s.wg)(),(0,s.iD)("div",v,[(0,s.Wm)(B,{pubkey:e.author,clickable:"",onClick:t[5]||(t[5]=(0,n.iM)((()=>{}),["stop"]))},null,8,["pubkey"]),(0,s.Uk)("   "),(0,s.Wm)(D,{pubkey:e.author,clickable:"",onClick:t[6]||(t[6]=(0,n.iM)((()=>{}),["stop"]))},null,8,["pubkey"])])):(0,s.kq)("",!0),(0,s.Wm)(P,{value:e,clickable:"",onClick:t[7]||(t[7]=(0,n.iM)((()=>{}),["stop"])),theme:"my-awesome-json-theme"},null,8,["value"])])))),256)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(q.visible,(e=>((0,s.wg)(),(0,s.j4)(S,{key:e[0].id,thread:e,raw:q.raw,ref_for:!0,ref:"Threadref",class:"full-width"},null,8,["thread","raw"])))),128)),(0,s.Wm)(j,{count:q.visible.length,loading:q.loading},null,8,["count","loading"])])],64)}o(9665);var _=o(5501),C=o(9715),x=o(8803),T=o.n(x),Z=o(6401);const B={class:"user-card"};function D(e,t,o,i,a,r){const l=(0,s.up)("q-btn"),c=(0,s.up)("UserAvatar"),p=(0,s.up)("UserName");return(0,s.wg)(),(0,s.iD)("div",B,[a.check?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(l,{key:0,color:"primary",round:"",outline:"",size:"xs",onClick:t[0]||(t[0]=(0,n.iM)((e=>r.getpubkeyToggle(o.pubkey)),["stop"]))})),a.check?((0,s.wg)(),(0,s.j4)(l,{key:1,color:"primary",round:"",size:"xs",onClick:t[1]||(t[1]=(0,n.iM)((e=>r.Toggle(o.pubkey)),["stop"])),icon:"done"})):(0,s.kq)("",!0),(0,s.Wm)(c,{pubkey:o.pubkey,clickable:o.clickable},null,8,["pubkey","clickable"]),(0,s.Wm)(p,{pubkey:o.pubkey,clickable:o.clickable,class:"username","two-line":"","show-verified":""},null,8,["pubkey","clickable"])])}var P=o(7328);const S={name:"UserCard",components:{FollowButton:P.Z,UserName:C.Z,UserAvatar:_.Z},props:{pubkey:{type:String,required:!0},clickable:{type:Boolean,default:!1},followButton:{type:Boolean,default:!1}},data(){return{check:!1}},methods:{getpubkeyToggle(e){console.log("pubkey----",e),this.check=!0,this.$parent.getchildpub(e)},Toggle(e){this.check=!1,this.$parent.delchildpub(e)}}};var j=o(1639),M=o(8879),U=o(9984),z=o.n(U);const A=(0,j.Z)(S,[["render",D],["__scopeId","data-v-3b74a8bc"]]),R=A;z()(S,"components",{QBtn:M.Z});var L=o(6166),W=o(3099),F=o(2187),I=o(2929);const N={class:"relative-position"},$={class:"searchbox-wrapper"},E={class:"searchbox-icon"},H={class:"searchbox-input"},K=["placeholder"],Y={key:0,class:"searchbox-results"},O={key:0,class:"query-example"},Q=(0,s._)("b",null,"npub…",-1),J=(0,s._)("b",null,"[user]@domain",-1),V=(0,s._)("b",null,"name",-1);function X(e,t,o,a,r,l){const c=(0,s.up)("BaseIcon"),p=(0,s.up)("q-form"),d=(0,s.up)("UserCard");return(0,s.wg)(),(0,s.iD)("div",N,[(0,s._)("div",{class:(0,i.C_)(["searchbox",{focused:r.focused}])},[(0,s._)("div",$,[(0,s._)("div",E,[(0,s.Wm)(c,{icon:"search"})]),(0,s._)("div",H,[(0,s.Wm)(p,{onSubmit:(0,n.iM)(l.search,["stop"])},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.query=e),ref:"input",type:"text",placeholder:e.$t("Search profiles"),onFocus:t[1]||(t[1]=(...e)=>l.toggleFocus&&l.toggleFocus(...e)),onBlur:t[2]||(t[2]=(...e)=>l.toggleFocus&&l.toggleFocus(...e)),onKeyup:[t[3]||(t[3]=(...e)=>l.search&&l.search(...e)),t[4]||(t[4]=(0,n.D2)((t=>e.$refs.input.blur()),["esc"]))]},null,40,K),[[n.nr,r.query]])])),_:1},8,["onSubmit"])])])],2),(0,s.Wm)(n.uT,{name:"fade"},{default:(0,s.w5)((()=>[r.focused?((0,s.wg)(),(0,s.iD)("div",Y,[r.results.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",O,[Q,(0,s.Uk)(" or "),J,(0,s.Uk)(" or "),V])),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.results,(e=>((0,s.wg)(),(0,s.j4)(d,{key:e,pubkey:e,class:"searchbox-results-item",clickable:"",onMousedown:t=>l.getpub(e)},null,8,["pubkey","onMousedown"])))),128))])):(0,s.kq)("",!0)])),_:1})])}var G=o(7664),ee=o(7175),te=o(5198);const oe={name:"SearchBox",mixins:[I.Z],components:{UserCard:te.Z,BaseIcon:G.Z},setup(){return{provider:new ee.Z}},data(){return{focused:!1,query:"",results:[]}},methods:{toggleFocus(){this.focused=!this.focused},getpub(e){this.$parent.Searchchildpub(e)},async search(){this.query?this.results=(await this.provider.queryProfiles(this.query)).slice(0,200):this.results=[]}}};var se=o(8326);const ne=(0,j.Z)(oe,[["render",X]]),ie=ne;z()(oe,"components",{QForm:se.Z});var ae=o(9010),re=o(4520),le=(o(7498),o(2296)),ce=o(396);const pe={class:"thread"};function de(e,t,o,n,i,a){const r=(0,s.up)("ListPost");return(0,s.wg)(),(0,s.iD)("div",pe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.filteredThread,((e,t)=>((0,s.wg)(),(0,s.j4)(r,{key:e.id,note:e,"connector-top":a.filteredThread.length>1&&t>0,"connector-bottom":a.filteredThread.length>1&&t<a.filteredThread.length-1||o.forceBottomConnector,raw:o.raw,actions:"",clickable:"",ref_for:!0,ref:"ListPost"},null,8,["note","connector-top","connector-bottom","raw"])))),128))])}const ue=e=>((0,s.dD)("data-v-bb97ac0e"),e=e(),(0,s.Cn)(),e),he={class:"post-author"},ke={class:"connector-top"},ge={key:0,class:"connector-line"},ye={class:"connector-bottom"},me={key:0,class:"connector-line"},be={class:"post-content"},we={class:"post-content-header"},fe={class:"author-line"},ve=ue((()=>(0,s._)("span",null,"·",-1))),qe={class:"created-at"},_e={key:0,class:"in-reply-to"},Ce={class:"post-content-body"};function xe(e,t,o,a,r,l){const c=(0,s.up)("UserAvatar"),p=(0,s.up)("UserName"),d=(0,s.up)("PostRenderer"),u=(0,s.up)("q-btn"),h=(0,s.up)("json-viewer");return(0,s.wg)(),(0,s.iD)("div",{class:(0,i.C_)(["post",{clickable:o.clickable,myPubkeybg:a.app.myPubkey==o.note.author}]),onClick:t[6]||(t[6]=(0,n.iM)((t=>o.clickable&&e.goToThread(o.note.id)),["stop"]))},[(0,s._)("div",he,[(0,s._)("div",ke,[o.connectorTop?((0,s.wg)(),(0,s.iD)("div",ge)):(0,s.kq)("",!0)]),(0,s.Wm)(c,{pubkey:o.note.author,clickable:"",onClick:t[0]||(t[0]=(0,n.iM)((()=>{}),["stop"]))},null,8,["pubkey"]),(0,s._)("div",ye,[o.connectorBottom?((0,s.wg)(),(0,s.iD)("div",me)):(0,s.kq)("",!0)])]),(0,s._)("div",be,[(0,s._)("div",we,[(0,s._)("p",fe,[(0,s.Wm)(p,{pubkey:o.note.author,clickable:"","show-verified":"",onClick:t[1]||(t[1]=(0,n.iM)((()=>{}),["stop"]))},null,8,["pubkey"]),ve,(0,s._)("span",qe,(0,i.zw)(l.createdAt),1)]),o.note.hasAncestor()?((0,s.wg)(),(0,s.iD)("p",_e,[(0,s.Uk)((0,i.zw)(e.$t("Replying to"))+" ",1),(0,s._)("a",{onClick:t[2]||(t[2]=(0,n.iM)((t=>e.goToProfile(l.ancestor?.author)),["stop"]))},[l.ancestor?.author?((0,s.wg)(),(0,s.j4)(p,{key:0,pubkey:l.ancestor?.author},null,8,["pubkey"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)]),(0,s._)("div",Ce,[(0,s.Wm)(d,{note:o.note},null,8,["note"])]),a.formState.opendata?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(u,{key:0,color:"primary",size:"sm",onClick:t[3]||(t[3]=(0,n.iM)((e=>l.openToggle()),["stop"])),label:"raw data",class:"qbtn-style","icon-right":"arrow_drop_down"})),a.formState.opendata?((0,s.wg)(),(0,s.j4)(u,{key:1,color:"primary",size:"sm",onClick:t[4]||(t[4]=(0,n.iM)((e=>l.openToggle()),["stop"])),label:"raw data",class:"qbtn-style","icon-right":"arrow_drop_up"})):(0,s.kq)("",!0),a.formState.opendata?((0,s.wg)(),(0,s.j4)(h,{key:2,value:o.note,clickable:"",onClick:t[5]||(t[5]=(0,n.iM)((()=>{}),["stop"])),theme:"my-awesome-json-theme"},null,8,["value"])):(0,s.kq)("",!0)])],2)}var Te=o(499),Ze=o(8500),Be=o(8993),De=o(1153);const Pe={name:"ListPost",mixins:[I.Z],components:{PostActions:Be.Z,UserAvatar:_.Z,UserName:C.Z,PostRenderer:Ze.Z,JsonViewer:T()},props:{note:{type:Object,required:!0},connectorTop:{type:Boolean,default:!1},connectorBottom:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},actions:{type:Boolean,default:!1},raw:Boolean},setup(e){const t=(0,Te.qj)({opendata:!1});return(0,s.YP)((()=>e.raw),(e=>{console.log("newProps.raw--------",e),t.opendata=e})),{app:(0,W.q)(),nostr:(0,L.D)(),formState:t}},data(){return{refreshCounter:0,refreshTimer:null,metadataDialog:!1,noteStr:"",CopyStr:""}},computed:{ancestor(){return this.note.hasAncestor()?this.nostr.getNote(this.note.ancestor()):null},showActions(){return this.actions&&this.note.canReply()},createdAt(){return this.refreshCounter,this.formatPostDate(this.note.createdAt)}},methods:{openToggle(){this.formState.opendata=!this.formState.opendata},formatPostDate(e){const t=this.$q.screen.lt.md?"short":"long";return le.Z.formatFromNow(e,t)},info(){this.metadataDialog=!0,console.log("str----",this.note.id);let e=(0,re.Sk)(this.nostr.getNote(this.note.id)),t=JSON.stringify(this.nostr.getNote(this.note.id));console.log("str----",this.nostr.getNote(this.note.id)),this.noteStr=e,this.CopyStr=t},async copystr(e){e&&(console.log("str----",e),await navigator.clipboard.writeText(e).then((()=>{this.$q.notify({message:"Replication Success",color:"positive",timeout:1e3,position:"top"})})))},async del(){const e=De.Z["delete"](this.note,this.app.myPubkey).build();e.id=this.note.id,console.log("event--------------------",e),await this.app.signEvent(e)&&(await this.nostr.publish(e)||this.$q.notify({message:$t("Failed to publish reaction"),color:"negative"}))},async copyNoteId(){const e=(0,re.jm)(this.note.id,"note");await navigator.clipboard.writeText(e).then((()=>{this.$q.notify({message:"Replication Success",color:"positive",timeout:1e3,position:"top"})}))},async copyUserId(){const e=(0,re.jm)(this.note.author,"npub");await navigator.clipboard.writeText(e).then((()=>{this.$q.notify({message:"Replication Success",color:"positive",timeout:1e3,position:"top"})}))}},mounted(){const e=le.Z.now()-this.note.createdAt>=3600?3600:60;this.refreshTimer=setInterval((()=>this.refreshCounter++),1e3*e)},unmounted(){clearInterval(this.refreshTimer)}},Se=(0,j.Z)(Pe,[["render",xe],["__scopeId","data-v-bb97ac0e"]]),je=Se;z()(Pe,"components",{QBtn:M.Z});const Me={name:"Thread",components:{ListPost:je},props:{thread:{type:Array,required:!0},forceBottomConnector:{type:Boolean,default:!1},raw:Boolean},setup(e){(0,s.YP)((()=>e.raw),(e=>{}))},computed:{filteredThread(){return this.thread.filter((e=>!!e))}}},Ue=(0,j.Z)(Me,[["render",de],["__scopeId","data-v-51f7054e"]]),ze=Ue,Ae="0000000000000000000000000000000000000000000000000000000000000000",Re=(e,t)=>t[0].createdAt-e[0].createdAt,Le=25,We={name:"FollowingBox",components:{UserCard:R,SearchBox:ie,PageHeader:ae.Z,Thread:ze,ListPlaceholder:Z.Z,JsonViewer:T(),UserAvatar:_.Z,UserName:C.Z},mixins:[I.Z],data(){return{visible:[],hideBots:!1,pubkeyList:[],recentlyLoaded:!0,newer:[],older:[],loading:!1,Expansion:!1,kinds:[],notelist:[],kindlist:[{name:"Metadata",type:0,check:!1},{name:"Text",type:1,check:!1},{name:"RecommendRelay",type:2,check:!1},{name:"Contacts",type:3,check:!1},{name:"EncryptedDirectMessage",type:4,check:!1},{name:"EventDeletion",type:5,check:!1},{name:"Reposts",type:6,check:!1},{name:"Reaction",type:7,check:!1},{name:"Badge Award",type:8,check:!1},{name:"ChannelCreation",type:40,check:!1},{name:"ChannelMetadata",type:41,check:!1},{name:"ChannelMessage",type:42,check:!1},{name:"ChannelHideMessage",type:43,check:!1},{name:"ChannelMuteUser",type:44,check:!1},{name:"Report",type:1984,check:!1},{name:"ZapRequest",type:9734,check:!1},{name:"Zap",type:9735,check:!1},{name:"RelayList",type:10002,check:!1},{name:"ClientAuth",type:22242,check:!1},{name:"Article",type:30023,check:!1}],raw:!1}},setup(){return{app:(0,W.q)(),nostr:(0,L.D)()}},computed:{numUnreads(){return this.recentlyLoaded?0:this.newer.length},pubkey(){return this.app.myPubkey},contacts(){return this.nostr.getContacts(this.pubkey)?.slice(0,20)}},methods:{ToggleRaw(){this.raw=!this.raw},pushKind(e,t){this.kindlist[t].check=!0,this.kinds.push(e)},delKind(e,t){this.kindlist[t].check=!1;const o=this.kinds;o.forEach(((t,s)=>{t==e&&(o.splice(s,1),this.kinds=o)}))},openToggle(){this.Expansion=!this.Expansion},getchildpub(e){this.pubkeyList.push(e)},delchildpub(e){const t=this.pubkeyList;t.forEach(((o,s)=>{o==e&&(t.splice(s,1),this.pubkeyList=t)}))},Searchchildpub(e){this.pubkeyList=[],this.pubkeyList.push(e),this.kinds?this.getProfile():this.$q.notify({message:"No Kinds",color:"negative"})},filterNote(e,t){return!e.isReaction()&&(!e.isRepostOrTag()&&(!t||!e.relatedPubkeys().some(ce.Z.isBot)))},ensureBech32(e,t){return(0,re.iY)(e)?e:(0,re.jm)(e,t)},filters(){console.log("kindskindskindskindskinds-----filters",this.kinds);let e=this.pubkeyList,t=this.kinds;return e&&e.length||(e=[Ae]),{kinds:t,authors:e}},followingdata(){let e=this.pubkeyList;if(!e||!e.length)return[];let t=[];const o=(0,F.d)();for(const s of e)t=t.concat(o.postsByAuthor(s,F.i.CREATION_DATE_DESC));return t},empty(){this.visible=""},reload(){this.loading=!0,this.getProfile()},async getProfile(){this.visible=[],this.notelist=[],this.loading=!0;const e=this.filters(),t=this.kinds;if(console.log("构造的filter为-----------------",e),1===t.length&&1==t[0])this.stream=this.nostr.stream(e,{subId:"",timeout:3e3}),this.stream.on("init",(e=>{const t=this.followingdata()||[],o=e.concat(t).filter((e=>this.filterNote(e,this.hideBots))).map((e=>[e])).sort(Re).filter(((e,t,o)=>!t||e[0].id!==o[t-1][0].id));this.visible=o.slice(0,Le),this.loading=!1})),this.stream.on("update",(e=>{console.log("update+++++++++++++++++",e),this.getProfile()}));else{this.stream=this.nostr.stream(e,{subId:""}),this.stream.on("update",(e=>{console.log("updateOther+++++++++++++++++",e),this.getProfile()}));const t=await this.nostr.fetch(e,{subId:""});this.notelist=t,this.loading=!1}}}},Fe=(0,j.Z)(We,[["render",q],["__scopeId","data-v-388b82d0"]]),Ie=Fe;z()(We,"components",{QBtn:M.Z})}}]);