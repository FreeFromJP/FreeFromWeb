"use strict";(globalThis["webpackChunkFreeFromWeb"]=globalThis["webpackChunkFreeFromWeb"]||[]).push([[3064],{9944:(e,t,o)=>{function n(e=100){return{data(){return{displayPriority:0}},mounted(){this.runDisplayPriority()},methods:{runDisplayPriority(){const t=()=>{requestAnimationFrame((()=>{this.displayPriority++,this.displayPriority<e&&t()}))};t()},defer(e){return this.displayPriority>=e}}}}o.d(t,{Z:()=>n})},396:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(4520);const a=new Set,s=a;a.isBot=a.has.bind(a),a.add=e=>Set.prototype.add.call(a,(0,n.FX)(e))},7403:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(9835);const a={ref:"button",class:"async-load-button"};function s(e,t,o,s,r,i){const l=(0,n.up)("q-btn");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n.Wm)(l,{loading:e.loading,label:e.$t(e.noMore?e.labelNoMore:e.label),onClick:e.load,size:"md",flat:""},null,8,["loading","label","onClick"])],512)}const r=(0,n.aZ)({name:"AsyncLoadButton",emits:["loading","loaded"],props:{loadFn:{type:Function,required:!0},label:{type:String,default:"Load more"},labelNoMore:{type:String,default:"No more items. Try again?"},autoload:{type:Boolean,default:!1}},data(){return{loading:!1,noMore:!1,observer:null}},methods:{async load(){if(this.loading)return;this.loading=!0,this.$emit("loading");const e=await this.loadFn();this.noMore=!e||!e.length,this.loading=!1,this.$emit("loaded",e)}},mounted(){this.autoload&&(this.observer=new IntersectionObserver(this.load.bind(this),{root:null,threshold:.5}),this.observer.observe(this.$refs.button))},unmounted(){this.observer&&this.observer.disconnect()}});var i=o(1639),l=o(8879),d=o(9984),c=o.n(d);const p=(0,i.Z)(r,[["render",s],["__scopeId","data-v-25cf639a"]]),u=p;c()(r,"components",{QBtn:l.Z})},6245:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(9835),a=o(6970);const s={key:1};function r(e,t,o,r,i,l){const d=(0,n.up)("q-spinner");return(0,n.wg)(),(0,n.iD)("div",{ref:"link",class:"async-load-link",onClick:t[0]||(t[0]=(...t)=>e.load&&e.load(...t))},[e.loading?((0,n.wg)(),(0,n.j4)(d,{key:0,size:"sm"})):((0,n.wg)(),(0,n.iD)("span",s,[(0,n.Uk)((0,a.zw)(e.$t(e.noMore?e.prefixNoMore:e.hasItems?"":e.prefix))+" ",1),(0,n._)("a",null,(0,a.zw)(e.$t(e.noMore?e.labelNoMore:e.label)),1)]))],512)}const i=(0,n.aZ)({name:"AsyncLoadLink",emits:["loading","loaded"],props:{loadFn:{type:Function,required:!0},label:{type:String,default:"Load more"},labelNoMore:{type:String,default:"Try again?"},prefix:{type:String,default:"Nothing here."},prefixNoMore:{type:String,default:"Nothing found."},hasItems:{type:Boolean,default:!1},autoload:{type:Boolean,default:!1}},data(){return{loading:!1,noMore:!1,observer:null}},methods:{async load(){if(this.loading)return;this.loading=!0,this.$emit("loading");const e=await this.loadFn();this.noMore=!e||!e.length,this.loading=!1,this.$emit("loaded",e)}},mounted(){this.autoload&&(this.observer=new IntersectionObserver(this.load.bind(this),{root:null,threshold:.5}),this.observer.observe(this.$refs.button))},unmounted(){this.observer&&this.observer.disconnect()}});var l=o(1639),d=o(3940),c=o(9984),p=o.n(c);const u=(0,l.Z)(i,[["render",r],["__scopeId","data-v-92dd1492"]]),h=u;p()(i,"components",{QSpinner:d.Z})},597:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(9835),a=o(6970);const s={key:0,class:"list-placeholder"},r={key:1};function i(e,t,o,i,l,d){const c=(0,n.up)("q-spinner");return o.count?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",s,[o.loading?((0,n.wg)(),(0,n.j4)(c,{key:0,size:"sm"})):((0,n.wg)(),(0,n.iD)("p",r,(0,a.zw)(e.$t(o.label)),1))]))}const l={name:"ListPlaceholder",props:{count:{type:Number,default:0},loading:{type:Boolean,default:!1},label:{type:String,default:"Nothing here."}}};var d=o(1639),c=o(3940),p=o(9984),u=o.n(p);const h=(0,d.Z)(l,[["render",i],["__scopeId","data-v-fdc49960"]]),g=h;u()(l,"components",{QSpinner:c.Z})},5173:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(9835),a=o(6970),s=o(1957);function r(e,t,o,r,i,l){const d=(0,n.up)("PostRenderer"),c=(0,n.up)("q-btn"),p=(0,n.up)("json-viewer");return(0,n.wg)(),(0,n.iD)(n.HY,null,[l.note?((0,n.wg)(),(0,n.j4)(d,{key:0,note:l.note},null,8,["note"])):i.decryptFailed?((0,n.wg)(),(0,n.iD)("span",{key:2,class:"decrypt-failed",onClick:t[1]||(t[1]=(...e)=>l.decrypt&&l.decrypt(...e))},(0,a.zw)(e.$t("Decryption failed")),1)):((0,n.wg)(),(0,n.iD)("span",{key:1,class:"click-to-decrypt",onClick:t[0]||(t[0]=e=>o.clickToDecrypt&&l.decrypt())},(0,a.zw)(e.$t("Click to decrypt")),1)),i.opendata?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(c,{key:3,color:"primary",size:"sm",onClick:t[2]||(t[2]=(0,s.iM)((e=>l.openToggle()),["stop"])),label:"raw data",class:"qbtn-style","icon-right":"arrow_drop_down"})),i.opendata?((0,n.wg)(),(0,n.j4)(c,{key:4,color:"primary",size:"sm",onClick:t[3]||(t[3]=(0,s.iM)((e=>l.openToggle()),["stop"])),label:"raw data",class:"qbtn-style","icon-right":"arrow_drop_up"})):(0,n.kq)("",!0),i.opendata?((0,n.wg)(),(0,n.j4)(p,{key:5,value:o.message,clickable:"",onClick:t[4]||(t[4]=(0,s.iM)((()=>{}),["stop"])),theme:"my-awesome-json-theme"},null,8,["value"])):(0,n.kq)("",!0)],64)}var i=o(8803),l=o.n(i),d=o(3099),c=o(9049),p=o(4264);const u={name:"EncryptedMessage",components:{PostRenderer:c.Z,JsonViewer:l()},props:{message:{type:Object,required:!0},clickToDecrypt:{type:Boolean,default:!1}},setup(){return{app:(0,d.q)()}},data(){return{decryptFailed:!1,opendata:!1}},computed:{note(){if(!this.message?.plaintext)return;const e=new p.Z(this.message.id,this.message);return e.content=this.message.plaintext,e}},methods:{openToggle(){this.opendata=!this.opendata},async decrypt(){if(!this.message.plaintext)try{const e=this.message.id,t=this.message.author===this.app.myPubkey?this.message.recipient:this.message.author,o=await this.app.decryptMessage(t,this.message.content);this.message.id===e&&this.message.cachePlaintext(o)}catch(e){console.error("Failed to decrypt message",e),this.decryptFailed=!0}}},async mounted(){this.app.activeAccount.canDecrypt()&&await this.decrypt()},watch:{async message(){this.app.activeAccount.canDecrypt()&&await this.decrypt()}}};var h=o(1639),g=o(8879),y=o(9984),m=o.n(y);const b=(0,h.Z)(u,[["render",r],["__scopeId","data-v-a57a1fc4"]]),f=b;m()(u,"components",{QBtn:g.Z})},9684:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(9835),a=o(6970);const s={key:0},r={class:"addon"};function i(e,t,o,i,l,d){const c=(0,n.up)("base-icon");return(0,n.wg)(),(0,n.iD)("div",{class:(0,a.C_)(["page-header",{dense:e.dense}])},[e.backButton?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"back-button",onClick:t[0]||(t[0]=t=>e.$router.go(-1))},[(0,n.Wm)(c,{icon:"back"})])):(0,n.kq)("",!0),(0,n._)("div",{class:(0,a.C_)({"profile-info":!!e.subline})},[(0,n.WI)(e.$slots,"default",{},(()=>[(0,n._)("h2",null,(0,a.zw)(e.$t(e.title||e.titleFromRoute()||"Home")),1),e.subline?((0,n.wg)(),(0,n.iD)("span",s,(0,a.zw)(e.subline),1)):(0,n.kq)("",!0)]))],2),(0,n._)("div",r,[(0,n.WI)(e.$slots,"addon")])],2)}var l=o(5253);const d=(0,n.aZ)({name:"PageHeader",components:{BaseIcon:l.Z},props:{title:{type:String,default:void 0},subline:{type:String,default:void 0},backButton:{type:Boolean,default:!1},logo:{type:Boolean,default:!1},dense:{type:Boolean,default:!1}},methods:{titleFromRoute(){const e=this.$route.name?.toLowerCase();return e?.charAt(0).toUpperCase()+e?.substring(1)}}});var c=o(1639);const p=(0,c.Z)(d,[["render",i]]),u=p},1842:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(9835);const a={class:"thread"};function s(e,t,o,s,r,i){const l=(0,n.up)("ListPost");return(0,n.wg)(),(0,n.iD)("div",a,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.filteredThread,((e,t)=>((0,n.wg)(),(0,n.j4)(l,{key:e.id,note:e,"connector-top":i.filteredThread.length>1&&t>0,"connector-bottom":i.filteredThread.length>1&&t<i.filteredThread.length-1||o.forceBottomConnector,actions:"",clickable:"",raw:o.raw},null,8,["note","connector-top","connector-bottom","raw"])))),128))])}var r=o(2440);const i={name:"Thread",components:{ListPost:r.Z},props:{thread:{type:Array,required:!0},forceBottomConnector:{type:Boolean,default:!1},raw:Boolean},setup(e){(0,n.YP)((()=>e.raw),(e=>{}))},computed:{filteredThread(){return this.thread.filter((e=>!!e))}}};var l=o(1639);const d=(0,l.Z)(i,[["render",s],["__scopeId","data-v-44d236ba"]]),c=d}}]);